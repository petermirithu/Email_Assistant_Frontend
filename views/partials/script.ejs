<script src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
<script src="/socket.io/socket.io.js"></script>
<script>
    const socket = io();
    socket.on('mail_box_total', (value) => {
        const item = document.getElementById("totalEmails");
        item.innerHTML = value;
    });

    socket.on('show_error', (value) => {
        alert(value);
    });

    socket.on('mail_connection_status', (value) => {
        const item = document.getElementById("mailConnectionStatus");
        item.classList.remove("bg-success");
        item.classList.remove("bg-info");
        item.classList.remove("bg-danger");
        if (value == "connected") {            
            item.classList.add("bg-success");
            item.innerHTML = "Connected to Mail";
        }
        else if (value == "connecting") {
            item.classList.add("bg-info");
            item.innerHTML = "Connecting to Mail ...";
        }
        else {
            item.classList.add("bg-danger");
            item.innerHTML = "Disconnected from Mail";
        }
    });
</script>